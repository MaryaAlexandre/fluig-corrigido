<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Changelog</title>

  <link rel="stylesheet" href="form.css" />
</head>

<body>
  <form name="frmChangelog" id="frmChangelog">

    <div class="form-header">
      <h2 class="form-title">Cadastro de Versão - Changelog</h2>
    </div>

    <fieldset class="form-section">
      <legend>Dados da Versão</legend>

      <div class="form-row">
        <div class="form-group col-3">
          <label for="numeroVersao">Numero da Versão <span class="required">*</span></label>
          <input type="text" id="numeroVersao" name="numeroVersao" placeholder="Ex: 2.4.1" />
        </div>

        <div class="form-group col-3">
          <label for="dataPublicacao">Data de Publicação <span class="required">*</span></label>
          <input type="date" id="dataPublicacao" name="dataPublicacao" />
        </div>

        <div class="form-group col-3">
          <label for="statusVersao">Status <span class="required">*</span></label>
          <select id="statusVersao" name="statusVersao">
            <option value="">Selecione...</option>
            <option value="Rascunho">Rascunho</option>
            <option value="Publicado">Publicado</option>
            <option value="Arquivado">Arquivado</option>
          </select>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-6">
          <label for="titulo">Titulo / Resumo <span class="required">*</span></label>
          <input type="text" id="titulo" name="titulo" placeholder="Ex: Melhorias no modulo financeiro" />
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-6">
          <label for="descricao">Descrição Detalhada</label>
          <textarea id="descricao" name="descricao" rows="4" placeholder="Descricao completa das mudancas desta versao..."></textarea>
        </div>
      </div>
    </fieldset>

    <fieldset class="form-section">
      <legend>Tags</legend>
      <p class="hint-text">Selecione as tags relacionadas a esta versão:</p>
      <input type="hidden" id="tagsSelecionadas" name="tagsSelecionadas" />

      <div class="tags-container">
        <span class="tag-badge" data-tag="Portal">Portal</span>
        <span class="tag-badge" data-tag="Integracao">Integracao</span>
        <span class="tag-badge" data-tag="Seguranca">Seguranca</span>
        <span class="tag-badge" data-tag="Mobile">Mobile</span>
      </div>
    </fieldset>

    <fieldset class="form-section">
      <legend>Imagem da Versão</legend>

      <div class="file-container" id="divImagemVersao">
        <div class="file-display">
          <input
            type="text"
            class="anexo"
            id="imagemNome"
            name="imagemNome"
            readonly
            placeholder="Nenhum arquivo selecionado"
          />
          <input type="hidden" class="anexoId" id="imagemId" name="imagemId" />
        </div>

        <div class="file-actions">
          <button
            type="button"
            class="upload-btn btn-outline"
            data-action="upload"
            data-extensions=".png,.jpg,.jpeg,.gif,.webp"
          >
            <i class="fluigicon fluigicon-upload icon-sm" aria-hidden="true"></i>
            Upload
          </button>

          <button
            type="button"
            class="trash-btn btn-danger-outline"
            data-action="trash"
          >
            <i class="fluigicon fluigicon-trash icon-sm" aria-hidden="true"></i>
            Remover
          </button>
        </div>
      </div>
    </fieldset>

    <fieldset class="form-section">
      <legend>Itens de Mudança</legend>

      <div id="div_add_item">
        <button type="button" class="btn btn-primary" id="btn_add_item" onclick="addItem()">
          <i class="fluigicon fluigicon-plus icon-sm" aria-hidden="true"></i>
          Adicionar item
        </button>
      </div>

      <div class="table-wrapper">
        <table class="items-table" id="tabelaItens">
          <thead>
            <tr>
              <th style="width:160px">Categoria <span class="required">*</span></th>
              <th>Descricao <span class="required">*</span></th>
              <th style="width:120px">Impacto</th>
              <th style="width:140px">Modulo</th>
              <th style="width:60px">Acao</th>
            </tr>
          </thead>

          <tbody id="itemsBody">
            <!-- linhas dinamicas -->
          </tbody>
        </table>
      </div>

      <p class="hint-text" id="emptyHint">Nenhum item adicionado. Clique em "Adicionar item" acima.</p>
    </fieldset>

    <input type="hidden" id="createdBy" name="createdBy" />
    <input type="hidden" id="createdDate" name="createdDate" />

    <div id="div_feedback" class="feedback-area" style="display:none;"></div>

  </form>

  <script src="custom.js"></script>
  <script src="validateForm.js"></script>
  <script src="displayFields.js"></script>
</body>
</html>